"use strict";

module.exports = (function () {
  "use strict";
  function a(a, b) {
    function c() {
      this.constructor = a;
    }c.prototype = b.prototype, a.prototype = new c();
  }function b(a, c, d, e) {
    this.message = a, this.expected = c, this.found = d, this.location = e, this.name = "SyntaxError", "function" == typeof Error.captureStackTrace && Error.captureStackTrace(this, b);
  }function c(a) {
    function M() {
      return a.substring(G, F);
    }function Q(b) {
      var d,
          e,
          c = H[b];if (c) return c;for (d = b - 1; !H[d];) {
        d--;
      }for (c = H[d], c = { line: c.line, column: c.column, seenCR: c.seenCR }; b > d;) {
        e = a.charAt(d), "\n" === e ? (c.seenCR || c.line++, c.column = 1, c.seenCR = !1) : "\r" === e || "\u2028" === e || "\u2029" === e ? (c.line++, c.column = 1, c.seenCR = !0) : (c.column++, c.seenCR = !1), d++;
      }return H[b] = c, c;
    }function R(a, b) {
      var c = Q(a),
          d = Q(b);return { start: { offset: a, line: c.line, column: c.column }, end: { offset: b, line: d.line, column: d.column } };
    }function S(a) {
      I > F || (F > I && (I = F, J = []), J.push(a));
    }function T(a, c, d, e) {
      function f(a) {
        var b = 1;for (a.sort(function (a, b) {
          return a.description < b.description ? -1 : a.description > b.description ? 1 : 0;
        }); b < a.length;) {
          a[b - 1] === a[b] ? a.splice(b, 1) : b++;
        }
      }function g(a, b) {
        function c(a) {
          function b(a) {
            return a.charCodeAt(0).toString(16).toUpperCase();
          }return a.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\x08/g, "\\b").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\f/g, "\\f").replace(/\r/g, "\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g, function (a) {
            return "\\x0" + b(a);
          }).replace(/[\x10-\x1F\x80-\xFF]/g, function (a) {
            return "\\x" + b(a);
          }).replace(/[\u0100-\u0FFF]/g, function (a) {
            return "\\u0" + b(a);
          }).replace(/[\u1000-\uFFFF]/g, function (a) {
            return "\\u" + b(a);
          });
        }var e,
            f,
            g,
            d = new Array(a.length);for (g = 0; g < a.length; g++) {
          d[g] = a[g].description;
        }return e = a.length > 1 ? d.slice(0, -1).join(", ") + " or " + d[a.length - 1] : d[0], f = b ? '"' + c(b) + '"' : "end of input", "Expected " + e + " but " + f + " found.";
      }return null !== c && f(c), new b(null !== a ? a : g(c, d), c, d, e);
    }function U() {
      var b, c, d, f, g, n, o, p, q, r;return K++, b = F, c = Z(), c !== e ? (a.substr(F, 4) === i ? (d = i, F += 4) : (d = e, 0 === K && S(j)), d !== e ? (f = Z(), f !== e ? (g = Y(), g !== e ? (n = Z(), n !== e ? (61 === a.charCodeAt(F) ? (o = k, F++) : (o = e, 0 === K && S(l)), o !== e ? (p = Z(), p !== e ? (q = W(), q !== e ? (r = Z(), r !== e ? (G = b, c = m(g, q), b = c) : (F = b, b = e)) : (F = b, b = e)) : (F = b, b = e)) : (F = b, b = e)) : (F = b, b = e)) : (F = b, b = e)) : (F = b, b = e)) : (F = b, b = e)) : (F = b, b = e), K--, b === e && (c = e, 0 === K && S(h)), b;
    }function V() {
      var b, c, d, f;return K++, b = F, c = Z(), c !== e ? (124 === a.charCodeAt(F) ? (d = o, F++) : (d = e, 0 === K && S(p)), d !== e ? (f = Z(), f !== e ? (G = b, c = q(), b = c) : (F = b, b = e)) : (F = b, b = e)) : (F = b, b = e), K--, b === e && (c = e, 0 === K && S(n)), b;
    }function W() {
      var a, b, c, d, f, g;if ((K++, a = F, b = X(), b !== e)) {
        for (c = [], d = F, f = V(), f !== e ? (g = X(), g !== e ? (f = [f, g], d = f) : (F = d, d = e)) : (F = d, d = e); d !== e;) {
          c.push(d), d = F, f = V(), f !== e ? (g = X(), g !== e ? (f = [f, g], d = f) : (F = d, d = e)) : (F = d, d = e);
        }c !== e ? (G = a, b = s(b, c), a = b) : (F = a, a = e);
      } else F = a, a = e;return K--, a === e && (b = e, 0 === K && S(r)), a;
    }function X() {
      var a, b, c, d, f, g;if ((K++, a = F, b = Y(), b !== e)) {
        for (c = [], d = F, f = Z(), f !== e ? (g = Y(), g !== e ? (f = [f, g], d = f) : (F = d, d = e)) : (F = d, d = e); d !== e;) {
          c.push(d), d = F, f = Z(), f !== e ? (g = Y(), g !== e ? (f = [f, g], d = f) : (F = d, d = e)) : (F = d, d = e);
        }c !== e ? (G = a, b = u(b, c), a = b) : (F = a, a = e);
      } else F = a, a = e;return K--, a === e && (b = e, 0 === K && S(t)), a;
    }function Y() {
      var b, c, d, f;if ((K++, b = F, w.test(a.charAt(F)) ? (c = a.charAt(F), F++) : (c = e, 0 === K && S(x)), c !== e)) {
        for (d = [], y.test(a.charAt(F)) ? (f = a.charAt(F), F++) : (f = e, 0 === K && S(z)); f !== e;) {
          d.push(f), y.test(a.charAt(F)) ? (f = a.charAt(F), F++) : (f = e, 0 === K && S(z));
        }d !== e ? (G = b, c = A(), b = c) : (F = b, b = e);
      } else F = b, b = e;return K--, b === e && (c = e, 0 === K && S(v)), b;
    }function Z() {
      var b, c, d;for (K++, b = F, c = [], C.test(a.charAt(F)) ? (d = a.charAt(F), F++) : (d = e, 0 === K && S(D)); d !== e;) {
        c.push(d), C.test(a.charAt(F)) ? (d = a.charAt(F), F++) : (d = e, 0 === K && S(D));
      }return c !== e && (G = b, c = E()), b = c, K--, b === e && (c = e, 0 === K && S(B)), b;
    }var L,
        c = arguments.length > 1 ? arguments[1] : {},
        e = {},
        f = { DataType: U },
        g = U,
        h = { type: "other", description: "data keyword" },
        i = "data",
        j = { type: "literal", value: "data", description: '"data"' },
        k = "=",
        l = { type: "literal", value: "=", description: '"="' },
        m = function m(a, b) {
      return { type: a, constructors: b };
    },
        n = { type: "other", description: "guard" },
        o = "|",
        p = { type: "literal", value: "|", description: '"|"' },
        q = function q() {
      return "GUARD";
    },
        r = { type: "other", description: "constructor group" },
        s = function s(a, b) {
      return b.reduce(function (a, b) {
        return a.push(b[1]), a;
      }, [].concat(a));
    },
        t = { type: "other", description: "constructor" },
        u = function u(a, b) {
      return { type: a, args: b.map(function (a) {
          return a[1];
        }) };
    },
        v = { type: "other", description: "identifier" },
        w = /^[A-Z]/,
        x = { type: "class", value: "[A-Z]", description: "[A-Z]" },
        y = /^[a-zA-Z0-1]/,
        z = { type: "class", value: "[a-zA-Z0-1]", description: "[a-zA-Z0-1]" },
        A = function A() {
      return M();
    },
        B = { type: "other", description: "whitespace" },
        C = /^[ \t\n\r]/,
        D = { type: "class", value: "[ \\t\\n\\r]", description: "[ \\t\\n\\r]" },
        E = function E() {
      return "WS";
    },
        F = 0,
        G = 0,
        H = [{ line: 1, column: 1, seenCR: !1 }],
        I = 0,
        J = [],
        K = 0;if ("startRule" in c) {
      if (!(c.startRule in f)) throw new Error("Can't start parsing from rule \"" + c.startRule + '".');g = f[c.startRule];
    }if ((L = g(), L !== e && F === a.length)) return L;throw L !== e && F < a.length && S({ type: "end", description: "end of input" }), T(null, J, I < a.length ? a.charAt(I) : null, I < a.length ? R(I, I + 1) : R(I, I));
  }return a(b, Error), { SyntaxError: b, parse: c };
})();